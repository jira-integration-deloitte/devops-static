<div class="row section header-section" style="width: 98%;">
    <div class="col-sm-2 logo">
    </div>
    <div class="col-sm-9 title-bar">

    </div>
    <div class="col-sm-1"></div>
</div>

<div class="row section" style="width: 98%;">
    <!-- Task pane -->
    <div class="col-sm-2 task-pane">
        <!-- Application Info -->
        <!--<div class="col-sm-12 task-pane-section-small"></div>-->
        <!-- User Info -->
        <div class="col-sm-12 task-pane-section-medium text-right name-section text-x-large">
            <a class="title-bar" href="report#" style="color: #3498db;"><span class="glyphicon glyphicon-user" style="margin-right: 10px;"></span>{{userFullName}}</a>
        </div>
        <!-- Select board -->
        <div class="col-sm-12 task-pane-section-medium text-right">
            <label for="select-board" class="text-right text-medium">Select board &nbsp;<span class="glyphicon" [ngClass]="boardId !== undefined ? 'glyphicon-ok' : 'hidden'" style="color: chartreuse;"></span></label>
            <select class="form-control" [(ngModel)]="boardId" (change)="loadSprints()" id="select-board">
                <option *ngFor="let board of boards" ngValue="{{board.id}}">{{board.name +  (board.location ? ' - ' + board.location.name : '')}}</option>
            </select>
        </div>
        <!-- Select Sprint -->
        <div class="col-sm-12 text-right task-pane-section-large text-medium">
            <label for="select-sprint" class="text-right">Select sprint &nbsp;<span class="glyphicon" [ngClass]="sprintId !== undefined ? 'glyphicon-ok' : 'hidden'" style="color: chartreuse;"></span></label>
            <select class="form-control" id="issues" [(ngModel)]="sprintId" id="select-sprint" multiple>
                <option *ngFor="let sprint of sprints" value="{{sprint.id}}">{{sprint.name}}</option>
            </select>
        </div>

        <!-- Buttons -->
        <div class="col-sm-12 text-right task-pane-section-medium">
            <button class="btn btn-md btn-primary" (click)="loadStories()" [disabled]="sprintId === undefined">Get Stories</button>
            &nbsp;&nbsp;&nbsp;
            <button class="btn btn-md btn-info" [disabled]="!showGraph">Show Graph</button>
        </div>

        <!-- Total story points -->
        <div class="col-sm-12 title-bar task-pane-section-medium text-right text-x-large" style="color: #3498db;">
            Total story points - {{totalStoryPoints}}
        </div>
    </div>
    <div class="col-sm-1"></div>

    <div class="col-sm-9 result-pane">
        <!-- Result data pane -->
        <div class="row" *ngIf="errorMessage">
            <div class="col-sm-12 error-message">
                {{errorMessage}}
            </div>
        </div>
        <div class="row" *ngIf="initMessage">
            <div class="col-sm-12 init-message">
                {{initMessage}}
            </div>
        </div>

        <div class="row story-details" [ngClass]="showData">
            <!--<div class="col-sm-1"></div>-->
            <div class="col-sm-12">
                <div *ngIf="!errorMessage">
                    <table class="table table-responsive table-striped table-bordered" style="margin-left: -125px;">
                        <thead>
                        <tr>
                            <th class="text-center">Project name</th>
                            <th class="text-center">Sprint</th>
                            <th class="text-center">Story description</th>
                            <th class="text-center">Points assigned</th>
                            <th class="text-center">Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let story of stories">
                            <td class="width-10 text-center">
                                {{story.projectName}}
                            </td>
                            <td class="text-center width-10">
                                {{story.sprintName}}
                            </td>
                            <td class="width-60">
                                {{story.description}}
                            </td>
                            <td class="text-center width-5">
                                {{story.storyPoint}}
                            </td>
                            <td class="text-center width-15">
                                {{story.status}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--<div class="col-sm-1"></div>-->
        </div>
    </div>
    <!--<div class="col-sm-1"></div>-->
</div>
<div class="row footer-section" style="width: 98%;">

</div>

<!--<google-chart [data]="pieChartData"></google-chart>-->
<!-- Trigger the modal with a button -->
<button type="button" class="hidden" data-toggle="modal" data-target="#modal-loader" id="open-modal-btn">Open Modal</button>
<div id="modal-loader" class="modal fade" role="dialog" data-keyboard =false data-backdrop ="static">
    <button type="button" class="hidden" data-dismiss="modal" id="close-modal-btn">&times;</button>
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <div class="text-center" style="font-size: x-large; margin-left: -70px;">{{currentStatus}} <div class="loader"></div></div>
            </div>
        </div>
    </div>
</div>