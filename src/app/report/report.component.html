<div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-10 title-bar section">
        Welcome, {{userFullName}}
        <p class="text-center">Total story points - {{totalStoryPoints}}</p>
    </div>
    <div class="col-sm-1"></div>
</div>

<div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-10 section">
        <div class="col-sm-12 select-section">
          <div class="col-sm-3"></div>

          <div class="col-sm-3 text-right">
            <label for="select-board" class="text-right">Select board</label>
            <select class="form-control" [(ngModel)]="boardId" (change)="loadSprints()" id="select-board">
              <option *ngFor="let board of boards" ngValue="{{board.id}}">{{board.name +  (board.location ? ' - ' + board.location.name : '')}}</option>
            </select>
          </div>


          <div class="col-sm-3 text-right">
              <label for="select-sprint" class="text-right">Select sprint</label>
            <select class="form-control" id="issues" [(ngModel)]="sprintId" id="select-sprint" multiple>
              <option *ngFor="let sprint of sprints" value="{{sprint.id}}">{{sprint.name}}</option>
            </select>
          </div>
          <div class="col-sm-3">
            <button class="btn btn-md btn-primary" (click)="loadStories()" [disabled]="sprintId === undefined">Get Stories</button>
          </div>
        </div>
    </div>
    <div class="col-sm-1"></div>
</div>

    <div class="row" *ngIf="errorMessage">
      <div class="col-sm-4"></div>
      <div class="col-sm-4 error-message">
        {{errorMessage}}
      </div>
      <div class="col-sm-4"></div>
    </div>

    <div class="row story-details" [ngClass]="showData">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">
            <div *ngIf="!errorMessage">
                <table class="table table-responsive table-striped table-bordered">
                    <thead>
                    <tr>
                        <th class="text-center">Project name</th>
                        <th class="text-center">Sprint</th>
                        <th class="text-center">Story description</th>
                        <th class="text-center">Points assigned</th>
                        <th class="text-center">Status</th>
                    </tr>
                    </thead>
                    <tbody *ngFor="let story of stories">
                        <tr>
                            <td class="width-10 text-center">
                                {{story.projectName}}
                            </td>
                            <td class="text-center width-10">
                                {{story.sprintName}}
                            </td>
                            <td class="width-60">
                                {{story.description}}
                            </td>
                            <td class="text-center width-5">
                                {{story.storyPoint}}
                            </td>
                            <td class="text-center width-15">
                                {{story.status}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-sm-1"></div>
    </div>

<!--<google-chart [data]="pieChartData"></google-chart>-->
<!-- Trigger the modal with a button -->
<button type="button" class="hidden" data-toggle="modal" data-target="#modal-loader" id="open-modal-btn">Open Modal</button>
<div id="modal-loader" class="modal fade" role="dialog" data-keyboard =false data-backdrop ="static">
    <button type="button" class="hidden" data-dismiss="modal" id="close-modal-btn">&times;</button>
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">
                <div class="text-center" style="font-size: x-large; margin-left: -70px;">{{currentStatus}} <div class="loader"></div></div>
            </div>
        </div>
    </div>
</div>